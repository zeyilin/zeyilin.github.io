/* game.css - Game Board and Block Styles */

.game-board-container {
    position: relative;
    background-color: var(--bg-grid);
    border: 2px solid #333;
    border-radius: var(--radius-container);
    overflow: hidden;
    touch-action: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    /* iOS Safari touch handling */
    -webkit-tap-highlight-color: transparent;
    pointer-events: auto;
    /* Ensure game board respects safe areas on mobile browsers */
    margin-bottom: env(safe-area-inset-bottom, 0px);
    /* Make container fit content exactly */
    display: inline-block;
    flex-shrink: 0;
}

#game-canvas {
    display: block;
    background-color: var(--bg-grid);
    touch-action: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    /* iOS Safari touch handling */
    -webkit-tap-highlight-color: transparent;
    pointer-events: auto;
    /* Prevent pinch zoom on canvas */
    -ms-touch-action: none;
}

/* Overlay */
.overlay {
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.85);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    font-weight: var(--font-weight-light);
    letter-spacing: 8px;
    text-transform: uppercase;
    z-index: 10;
}

.overlay.hidden {
    display: none;
    pointer-events: none; /* Ensure hidden overlay doesn't block touches */
}

/* Next piece canvas */
#next-canvas,
#next-canvas-mobile {
    display: block;
}

/* Responsive canvas sizing is handled by JavaScript */
@media (max-width: 768px) {
    .game-board-container {
        border-width: 1px;
    }
}

/* Line clear flash effect - applied via JS */
.line-clear-flash {
    animation: lineFlash 0.3s ease-out;
}

@keyframes lineFlash {
    0% {
        filter: brightness(1);
    }
    50% {
        filter: brightness(2);
    }
    100% {
        filter: brightness(1);
    }
}

